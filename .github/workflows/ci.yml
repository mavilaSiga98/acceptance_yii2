on:
  - pull_request
  - push

name: CI

jobs:
  Ci_simple:
    runs-on: ubuntu-latest
          
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Install dependencies with composer php
        run: composer update --prefer-dist --no-interaction --no-progress --optimize-autoloader --ansi

      - name: ☁ base de datos
        run: |
          mysql --version
          sudo service mysql start

      - name: ☁ Install Selenium
        run: |
          npm install selenium-standalone -g
          selenium-standalone install
      
      - name: ☁ Install firefox
        run: |
          apt-get update
          apt install firefox

      - name: Run tests with codeception
        run: |
          vendor/bin/codecept run
        shell: bash
